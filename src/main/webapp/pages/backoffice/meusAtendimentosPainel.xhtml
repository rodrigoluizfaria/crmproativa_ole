<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:matriz="http://java.sun.com/jsf/composite/componentes"
	xmlns:p="http://primefaces.org/ui">

	<h:form id="formBackofficePainel" prependId="false">

		<div class="p-grid col-12tab-padding">
		
<div class="col-12" style="margin: 20px 0px 30px;">

			<div class="ui-toolbar ui-widget ui-widget-header ui-corner-all mb-4 "  style="display: flex;align-items: center;justify-content: space-between;flex-wrap: wrap;    border: none;   background: none;">
				
					<div class=" ui-toolbar-group-left" style="    align-items: center; display: flex; flex-wrap: wrap;">
							
							<div class="card mr-3" >
									Qtde. Atendimentos: 
									<h:outputText value="#{acompanhamentoMinhasConsistencias.produtividade[2]}" style="font-weight: bold" styleClass="p-ml-3">
									</h:outputText>
							</div>
							<div class="card mr-3" style="     margin-bottom: auto;" >
									Qtde. Propostas solucionadas: 
									<h:outputText value="#{acompanhamentoMinhasConsistencias.produtividade[3]}" style="font-weight: bold" styleClass="p-ml-3">
									</h:outputText>
							</div>
								<div class="card mr-3" >
								
									Vlr. Realizado:  
									<h:outputText value="#{acompanhamentoMinhasConsistencias.produtividade[5]}" style="font-weight: bold" styleClass="p-ml-3">
									<f:convertNumber type="currency" locale="pt-br"	currencySymbol="R$" />
									</h:outputText>
							</div>
							
							<div class="card mr-3 " style="margin-bottom: auto;border-left: 3px solid #28a745!important" >
									Vlr Concluído: 		<h:outputText value="#{acompanhamentoMinhasConsistencias.produtividade[6]}" style="font-weight: bold" styleClass="p-ml-3">

										<f:convertNumber type="currency" locale="pt-br"	currencySymbol="R$" />

									</h:outputText>
							</div>
							</div>
							
			
				<div class=" ui-toolbar-group-right" style="    display: flex; align-items: center; flex-wrap: wrap;width: 15%;">
					
					Périodo:
					
					<p:selectOneMenu id="selectOneUsuario" value="#{acompanhamentoMinhasConsistencias.filtro}" label="FILTRO">

						<f:selectItem itemLabel="Diário" itemValue="DIA" />
						<f:selectItem itemLabel="Mensal" itemValue="MES"/>
						<f:selectItem itemLabel="Semanal" itemValue="SEMANA"/>
						<p:ajax listener="#{acompanhamentoMinhasConsistencias.onAtualizarPanel}" update="@form" process="@this" />

					</p:selectOneMenu>

				</div>
				
			</div>
</div>
			<div class="col-12 mt-3">

				<div class="layout-dashboard">

					<div class="grid">

						<div class="col-4 ">

							<div id="order-tabs-container col-4 " class="p-grid order-tabs">

								<div class=" col-12" data-label="New Orders" data-index="0"	data-stroke="#BBDEFB" data-fill="rgba(100, 181, 246, 0.2)">

									<span class="order-label">Status Atendimento</span>

								</div>

							</div>

							<div class="col-12 md:col-5">

								<div class="overview-chart text-center">
									<p:donutChart model="#{acompanhamentoMinhasConsistencias.donutModelStatusAtendimento}" style="width:1080px; height: 420px" zoom="true" />
								</div>
							</div>

							<p:dataTable id="tableBkoPendenciaStatus" var="status" rows="15"
								paginator="true" paginatorPosition="bottom"
								value="#{acompanhamentoMinhasConsistencias.listStatusPainel}"
								emptyMessage="#{acompanhamentoMinhasConsistencias.listStatusPainel eq null? '' : msg.emptyMessage}"
								currentPageReportTemplate="[#{msg.totalDeRegistros}: {totalRecords}]"
								styleClass="ui-datatable-sm ui-datatable-striped mt-5   "
								paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}">


								<p:column  width="5%">

									<div style="background-color: #{status[3]}; width: 40px;height: 14px;">
									</div>

								</p:column>

								<p:column headerText="Status" sortBy="#{status[2]}" width="15%">

									<h:outputLabel value="#{status[2]}">
									</h:outputLabel>

								</p:column>

								<p:column headerText="Quantidade" sortBy="#{status[1]}"	width="15%">

									<h:outputLabel value="#{status[1]}" />
									
									<f:facet name="footer">

										<h:outputLabel	value="#{acompanhamentoMinhasConsistencias.retornarQuantidadeTotalFooter(acompanhamentoMinhasConsistencias.listStatusPainel)}">

										</h:outputLabel>
										
									</f:facet>

								</p:column>


								<p:column headerText="Valor" sortBy="#{status[0]}" width="15%">

									<h:outputLabel value="#{status[0]}">

										<f:convertNumber type="currency" locale="pt-br"	currencySymbol="R$" />

									</h:outputLabel>

									<f:facet name="footer">

										<h:outputLabel value="#{acompanhamentoMinhasConsistencias.retornarTotalFooter(acompanhamentoMinhasConsistencias.listStatusPainel)}">
											<f:convertNumber type="currency" locale="pt-br"	currencySymbol="R$" />
										</h:outputLabel>

									</f:facet>

								</p:column>

							</p:dataTable>
							
						</div>

						<!-- 	 Motivo -->

						<div class="col-4   ">

							<div id="order-tabs-container" class="grid order-tabs">

								<div class=" col-12   " data-label="New Orders" data-index="0"	data-stroke="#BBDEFB" data-fill="rgba(100, 181, 246, 0.2)">

									<span class="order-label">Motivo</span>

								</div>

							</div>

							<div class="col-12   md:col-5  justify-content-center">

								<div class="overview-chart">

									<p:donutChart model="#{acompanhamentoMinhasConsistencias.donutModelMotivo}" style="width:1080px; height: 420px" zoom="true" />

								</div>
							</div>

							<p:dataTable id="tableBkoPendenciaMotivo" var="motivo" rows="5"
								paginator="true" paginatorPosition="bottom"
								value="#{acompanhamentoMinhasConsistencias.listMotioPainel}"
								emptyMessage="#{acompanhamentoMinhasConsistencias.listMotioPainel eq null? '' : msg.emptyMessage}"
								currentPageReportTemplate="[#{msg.totalDeRegistros}: {totalRecords}]"
								styleClass="ui-datatable-sm ui-datatable-striped   mt-5  centeralizarColum"
								paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}">

								<p:column  width="5%">

									<div
										style="background-color: #{motivo[3]}; width: 40px;height: 14px;">
									</div>

								</p:column>

								<p:column headerText="Motivo" sortBy="#{motivo[2]}" width="15%">

									<h:outputLabel value="#{motivo[2]}">
									</h:outputLabel>

								</p:column>

								<p:column headerText="Quantidade" sortBy="#{motivo[1]}"	width="15%">

									<h:outputLabel value="#{motivo[1]}" />

									<f:facet name="footer">

										<h:outputLabel value="#{acompanhamentoMinhasConsistencias.retornarQuantidadeTotalFooter(acompanhamentoMinhasConsistencias.listMotioPainel)}">

										</h:outputLabel>
									</f:facet>


								</p:column>


								<p:column headerText="Valor" sortBy="#{motivo[0]}" width="15%">

									<h:outputLabel value="#{motivo[0]}">
									
										<f:convertNumber type="currency" locale="pt-br"	currencySymbol="R$" />
										
									</h:outputLabel>

									<f:facet name="footer">
										<h:outputLabel
											value="#{acompanhamentoMinhasConsistencias.retornarTotalFooter(acompanhamentoMinhasConsistencias.listMotioPainel)}">
											<f:convertNumber type="currency" locale="pt-br"
												currencySymbol="R$" />
										</h:outputLabel>
									</f:facet>
								</p:column>

							</p:dataTable>
						</div>

						<!-- 	 SUBMOTIVO -->

						<div class="col-4  ">

							<div id="order-tabs-container" class="grid order-tabs">

								<div class=" col-12   " data-label="New Orders" data-index="0"	data-stroke="#BBDEFB" data-fill="rgba(100, 181, 246, 0.2)">

									<span class="order-label">Submotivo</span>

								</div>

							</div>

							<div class="col-12   md:col-5 ">

								<div class="overview-chart">

									<p:donutChart model="#{acompanhamentoMinhasConsistencias.donutSubmodelMotivo}" style="width:1080px; height: 420px" zoom="true" />

								</div>
								
							</div>

							<p:dataTable id="tableBkoPendenciaSubMotivo" var="motivo"
								rows="5" paginator="true" paginatorPosition="bottom"
								value="#{acompanhamentoMinhasConsistencias.listSubmotioPainel}"
								emptyMessage="#{acompanhamentoMinhasConsistencias.listSubmotioPainel eq null? '' : msg.emptyMessage}"
								currentPageReportTemplate="[#{msg.totalDeRegistros}: {totalRecords}]"
								styleClass="ui-datatable-sm ui-datatable-striped  mt-5  centeralizarColum"
								paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}">

								<p:column headerText=""  width="5%">

									<div
										style="background-color: #{motivo[3]}; width: 40px;height: 14px;">
									</div>

								</p:column>

								<p:column headerText="Submotivo"  width="15%">

									<h:outputLabel value="#{motivo[2]}">
									</h:outputLabel>

								</p:column>

								<p:column headerText="Quantidade" sortBy="#{motivo[1]}"	width="15%">

									<h:outputLabel value="#{motivo[1]}" />

									<f:facet name="footer">

										<h:outputLabel	value="#{acompanhamentoMinhasConsistencias.retornarQuantidadeTotalFooter(acompanhamentoMinhasConsistencias.listSubmotioPainel)}">

										</h:outputLabel>
									</f:facet>

								</p:column>

								<p:column headerText="Valor" sortBy="#{motivo[0]}" width="15%">

									<h:outputLabel value="#{motivo[0]}">
										<f:convertNumber type="currency" locale="pt-br"	currencySymbol="R$" />
									</h:outputLabel>

									<f:facet name="footer">
										
										<h:outputLabel	value="#{acompanhamentoMinhasConsistencias.retornarTotalFooter(acompanhamentoMinhasConsistencias.listSubmotioPainel)}">
										
											<f:convertNumber type="currency" locale="pt-br"	currencySymbol="R$" />
											
										</h:outputLabel>
										
									</f:facet>

								</p:column>

							</p:dataTable>
						</div>
						
							<div class="col-6  mt-5 ">

								<div class="overview-chart">
									<p:barChart  model="#{acompanhamentoMinhasConsistencias.stackedBarModelConsistencia}" style="width:1080px; height: 420px" zoom="true" />
								</div>
							</div>
							
							<div class="col-6 mt-5 ">
							
							
							<p:dataTable id="tableBkoPendenciaConsistencia" var="consistencia"
								rows="5" paginator="true" paginatorPosition="bottom"
								value="#{acompanhamentoMinhasConsistencias.listQuantidadeConsistencia}"
								emptyMessage="#{acompanhamentoMinhasConsistencias.listQuantidadeConsistencia eq null? '' : msg.emptyMessage}"
								currentPageReportTemplate="[#{msg.totalDeRegistros}: {totalRecords}]"
								styleClass="ui-datatable-sm ui-datatable-striped  mt-5  centeralizarColum"
								paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}">

						
								<p:column headerText="Código" sortBy="#{consistencia[0]}" width="8%">

									<h:outputLabel value="#{consistencia[0]}">
									</h:outputLabel>

								</p:column>
								
								<p:column headerText="Descrição" sortBy="#{consistencia[1]}" width="30%">

									<h:outputLabel value="#{consistencia[1]}">
									</h:outputLabel>

								</p:column>
				

								<p:column headerText="Valor. tratadas" sortBy="#{consistencia[3]}" width="15%">

									<h:outputLabel value="#{consistencia[3]}">
										<f:convertNumber type="currency" locale="pt-br"	currencySymbol="R$" />
									</h:outputLabel>
									
								</p:column>
								
									<p:column headerText="Qtd. Tratadas" sortBy="#{consistencia[4]}" width="10%">

									<h:outputLabel value="#{consistencia[4]}">
									</h:outputLabel>

								</p:column>
								
								<p:column headerText="Qtd. Não Tratadas" sortBy="#{consistencia[5]}" width="10%">

									<h:outputLabel value="#{consistencia[5]}">
									</h:outputLabel>

								</p:column>

							</p:dataTable>
							
							</div>

					</div>
					
				</div>

			</div>

		</div>

	</h:form>

</ui:fragment>