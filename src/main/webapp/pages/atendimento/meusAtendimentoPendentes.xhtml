<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<h:form id="formPendente" prependId="false">

		<div class="p-grid">


			<div class="col-12 md:col-10">

				<p:dataTable id="tablePendentes" var="pendentes" rows="20"
					paginator="true" paginatorPosition="bottom"
					value="#{meusAtendimentosBean.listAtendimentosPendentes}"
					emptyMessage="#{msg.emptyMessage}"
					currentPageReportTemplate="[#{msg.totalDeRegistros}: {totalRecords}]"
					paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}"
					style="margin-top:25px"
					styleClass="ui-datatable-sm ui-datatable-striped ui-datatable-sm">

					<f:facet name="header">
					
				Atendimentos pendentes
				 	
						
					</f:facet>

					<p:column headerText="Data:" width="20%">

						<h:outputLabel value="#{pendentes[4]}">
							

						</h:outputLabel>

					</p:column>

					<p:column headerText="Campanha:" width="20%">

						<h:outputLabel value="#{pendentes[1]}" />

					</p:column>

					<p:column headerText="Nome:" width="20%">

						<h:outputLabel value="#{pendentes[2]}" />

					</p:column>

					<p:column headerText="CPF:" width="10%">

						<h:outputLabel value="#{pendentes[3]}" />

					</p:column>
				

					<p:column width="10%">
					
					<p:commandButton icon="fa fa-list-alt p-mr-2"	title="Visualizar Atendimento"	styleClass="rounded-button ui-button-flat"	onclick="PF('dlgVisualizarAtendimento').show();"
							update="formVisualizar"	action="#{meusAtendimentosBean.visualizarAtendimento(pendentes[0])}" />
									
						<p:commandButton styleClass="rounded-button ui-button-flat" icon="pi pi-chevron-circle-right"	oncomplete="PF('dlgConfirmarAntecipacaoPendente').show();" global="false" title="Iniciar Atendimento Pendente" update="@form">

							
							<f:setPropertyActionListener value="#{pendentes[0]}"	target="#{meusAtendimentosBean.idAtendimento}" />

						</p:commandButton>	

				</p:column>

				</p:dataTable>

		
		</div>

			<pe:tooltip global="true" myPosition="left center"	atPosition="right center" styleClass="qtip-default" />

		</div>
			
		
		<p:confirmDialog id="dlgConfirmarAntecipacaoPendente" responsive="true" widgetVar="dlgConfirmarAntecipacaoPendente" appendTo="@(body)"	message="Iniciar Atendimento Pendente?" header="Confirmar">

			<p:commandButton id="simConfirmaPendente" value="Sim" icon="pi pi-check" action="#{meusAtendimentosBean.adiantarFichaAtendimentoNaoTrabalado()}" oncomplete="PF('dlgConfirmarAntecipacaoPendente').hide();" immediate="true" styleClass="ui-confirmdialog-yes"/>
	
			<p:commandButton id="naoConfirmaPendente" type="button" icon="pi pi-times"	onclick="PF('dlgConfirmarAntecipacaoPendente').hide();" value="NÃ£o" />

		</p:confirmDialog>

	</h:form>

</ui:fragment>