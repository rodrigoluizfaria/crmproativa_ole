<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:h="http://java.sun.com/jsf/html"
             xmlns:f="http://java.sun.com/jsf/core"
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:p="http://primefaces.org/ui">

    <!--  -->
    <p:dialog id="dlgDadosBancarios" widgetVar="dlgDadosBancarios" modal="true" draggable="false" resizable="false"
              closable="false" visible="false" width="40%" header="Cadastro Dados Bancarios">

        <h:form id="formDadosBancarios" prependId="false"
                rendered="#{fichaAtendimentoBean.atendimento ne null and fichaAtendimentoBean.dadosBancarios ne null}">

            <div class="ui-fluid grid formgrid p-3">

                <div class="col-12 field">

                    <p:outputLabel value="Banco:" for="selectBanco"/>

                    <p:selectOneMenu id="selectBanco" value="#{fichaAtendimentoBean.dadosBancarios.banco}"
                                     required="true" requiredMessage="Obrigatório"
                                     converter="omnifaces.SelectItemsConverter" filterMatchMode="contains" filter="true"
                                     autoWidth="false">

                        <f:selectItem itemLabel="Selecione" itemValue=""/>

                        <f:selectItems var="banco" value="#{fichaAtendimentoBean.instituicaoFinanceiraEnum}"
                                       itemLabel="#{banco.numeroBanco} - #{banco.constante}" itemValue="#{banco}"/>

                    </p:selectOneMenu>

                    <p:message for="selectBanco"/>
                </div>

                <div class="field col-12 md:col-7">

                    <p:outputLabel value="Tipo de Conta:"/>

                    <p:selectOneMenu id="selectTipoBanco" value="#{fichaAtendimentoBean.dadosBancarios.tipoConta}"
                                     converter="omnifaces.SelectItemsConverter">

                        <f:selectItem itemLabel="Selecione" itemValue=""/>

                        <f:selectItems var="tipo" value="#{fichaAtendimentoBean.tipoContaEnum}"
                                       itemLabel="#{tipo.descricao}" itemValue="#{tipo}"/>

                    </p:selectOneMenu>

                </div>

                <div class="field col-12 md:col-5">

                    <p:outputLabel value="UF Conta:"/>

                    <p:selectOneMenu id="selectUfConta" value="#{fichaAtendimentoBean.dadosBancarios.uf}"
                                     converter="omnifaces.SelectItemsConverter">

                        <f:selectItem itemLabel="Selecione" itemValue=""/>

                        <f:selectItems var="uf" value="#{fichaAtendimentoBean.ufEnums}" itemLabel="#{uf}"
                                       itemValue="#{uf}"/>

                    </p:selectOneMenu>


                </div>

                <div class="field col-12 md:col-7" >

                    <p:outputLabel value="Agência:" for="txtAgencia"/>

                    <p:inputText id="txtAgencia" value="#{fichaAtendimentoBean.dadosBancarios.agencia}" maxlength="10"
                                 onkeypress="return somenteNumeros(event)" required="true"
                                 requiredMessage="Obrigatório"/>

                    <p:message for="txtAgencia"/>
                </div>

                <div class="field col-12 md:col-5" >

                    <p:outputLabel value="Digito Agência:"/>

                    <p:inputText id="txtDvAgencia" value="#{fichaAtendimentoBean.dadosBancarios.digitoAgencia}"
                                 maxlength="1" onkeypress="return somenteNumeros(event)"/>

                </div>

                <div class="field col-12 md:col-7" >

                    <p:outputLabel value="Conta:"/>

                    <p:inputText id="txtConta" value="#{fichaAtendimentoBean.dadosBancarios.conta}" maxlength="15"
                                 onkeypress="return somenteNumeros(event)"/>

                </div>

                <div class="field col-12 md:col-5" >

                    <p:outputLabel value="Digito Conta:"/>

                    <p:inputText id="txtDvConta" value="#{fichaAtendimentoBean.dadosBancarios.digitoConta}"
                                 maxlength="2" onkeypress="return somenteNumeros(event)"/>

                </div>


            </div>

            <h:panelGroup styleClass="col-12 mt-3 text-center"
                          style="display: inline-block; align-items: center; flex-wrap: wrap" layout="block">



                    <p:commandButton value="Salvar" icon="pi pi-save" id="btnSalvarDadosBancarios"
                                     style="margin-right: 10px;" styleClass="ui-button-raised mr-3"
                                     rendered="#{fichaAtendimentoBean.acao eq 'S'}"
                                     actionListener="#{fichaAtendimentoBean.salvarEntidade('DADOS_BANCARIOS')}"
                                     update=":tabAtendimento:tableDadosBancarios  :tableDadosBancariosRefin :tableDadosBancariosSaque @form"/>

                    <p:commandButton value="Alterar" icon="pi pi-save" id="btnAlterarDadosBancarios"
                                     style="margin-right: 10px;" styleClass="ui-button-raised mr-3"
                                     rendered="#{fichaAtendimentoBean.acao eq 'U'}"
                                     actionListener="#{fichaAtendimentoBean.updadeEntidade('DADOS_BANCARIOS')}"
                                     update=":tabAtendimento:tableDadosBancarios :tableDadosBancariosRefin :tableDadosBancariosSaque @form"/>

                    <p:commandButton value="sair" icon="pi pi-times" id="btnSairDadosBancarios" styleClass="ui-button-raised ui-button-outlined"
                                     onclick="PF('dlgDadosBancarios').hide();"
                                     global="false" process="@this"/>




            </h:panelGroup>

        </h:form>

    </p:dialog>

</ui:fragment>