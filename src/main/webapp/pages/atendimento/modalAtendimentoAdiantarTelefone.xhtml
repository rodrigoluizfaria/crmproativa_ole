<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<!--  -->
	<p:dialog id="dlgAtnAdiantadoTel" widgetVar="dlgAtnAdiantadoTel" modal="true"	draggable="false" resizable="false" closable="false" visible="#{not empty fichaAtendimentoBean.listAtendimentosParaAdiantar}"	width="80%" header="Antecipar atendimento."   appendTo="@(body)">

		<h:form id="formClientesTelAdiantar" prependId="false" >

		 <div class="col-12">
			    
             <p:dataTable id="tableAtendimentosAdiantar" var="atendimento" rows="10" paginator="true" paginatorPosition="bottom"	value="#{fichaAtendimentoBean.listAtendimentosParaAdiantar}"
					emptyMessage="#{fichaAtendimentoBean.listAtendimentosParaAdiantar eq nulll? ''  : msg.emptyMessage}" 
					paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}">

					<p:ajax event="sort" global="false" />
					<p:ajax event="page" global="false" />
					
					<f:facet name="header">
					
				 Total de atendimentos:	#{fichaAtendimentoBean.listAtendimentosParaAdiantar.size()}
				
						
					</f:facet>

					<p:column headerText="Campanha" width="40%">

						<p:outputLabel value="#{atendimento[1]}" />

					</p:column>

					<p:column headerText="Nome" width="30%">

						<p:outputLabel value="#{atendimento[2]}" />

					</p:column>

					<p:column headerText="CPF" width="20%">

						<p:outputLabel value="#{atendimento[3]}" />

					</p:column>

					<p:column headerText="Ação" width="10%">

						<p:commandButton icon="pi pi-chevron-circle-right"	styleClass="rounded-button text-button"	oncomplete="PF('dlgConfirmarAntecipacaoNaoTrabalhado').show();"
										 global="false" id="btnAdiantarAtn" title="Antecipar Atendimento">

							<f:setPropertyActionListener value="#{atendimento[0]}"	target="#{meusAtendimentosBean.idAtendimento}" />
							<f:setPropertyActionListener value="true"	target="#{meusAtendimentosBean.atnPreditivo}" />
							

						</p:commandButton>

					</p:column>

				</p:dataTable>
             
			</div>
			
				<div class="col-12 mt-3">
					
						<div class="grid justify-center">
						
							<p:commandButton type="button" icon="pi pi-times" onclick="PF('dlgAtnAdiantadoTel').hide();" value="Fechar"/>
							
						</div>
								
					</div>
					
					<p:confirmDialog id="dlgConfirmarAntecipacaoNaoTrabalhado" widgetVar="dlgConfirmarAntecipacaoNaoTrabalhado" message="Antecipar Atendimento?" header="Confirmar" appendTo="@(body)" >

			<p:commandButton id="simConfirmaNaotrabalhado" value="Sim" icon="pi pi-check" action="#{meusAtendimentosBean.adiantarFichaAtendimentoNaoTrabalado()}"
							 oncomplete="PF('dlgConfirmarAntecipacaoNaoTrabalhado').hide();" immediate="true">

			</p:commandButton>

			<p:commandButton id="naoConfirmaNaotrabalhado" type="button" icon="pi pi-times"	onclick="PF('dlgConfirmarAntecipacaoNaoTrabalhado').hide();" value="Não" />

		</p:confirmDialog>


		</h:form>

	</p:dialog>

</ui:fragment>